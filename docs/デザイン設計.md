# HATAMOマッチングサービス デザイン設計書

**作成日**: 2025年10月2日
**バージョン**: v1.2
**対象**: Phase 1 MVP

---

## 目次

1. [プロジェクト概要](#1-プロジェクト概要)
2. [画面一覧](#2-画面一覧)
3. [ユーザーフロー](#3-ユーザーフロー)
4. [デザインシステム](#4-デザインシステム)
5. [ワイヤーフレーム](#5-ワイヤーフレーム)
6. [レスポンシブ設計](#6-レスポンシブ設計)
7. [実装ガイドライン](#7-実装ガイドライン)

---

## 1. プロジェクト概要

### 1.1 サービスコンセプト

HATAMOは、クローズドコミュニティ内でサービスを提供・依頼できるマッチングプラットフォームです。

**主な特徴**:
- 招待コード制による信頼性の高いコミュニティ
- 手数料選択制（20%/30%/40%/50% + 運営5%）
- リアルタイムメッセージング
- Stripe決済統合
- レビュー・評価システム

### 1.2 ユーザー種別

1. **利用者（CLIENT）**: サービスを依頼する側
2. **スポンサー（SPONSOR）**: サービスを提供する側
3. **管理者（ADMIN）**: プラットフォーム運営者

### 1.3 デザイン方針

- **シンプル**: 操作が直感的で分かりやすいUI
- **信頼性**: プロフェッショナルで安心感のあるデザイン
- **効率性**: 最小限のクリックで目的を達成
- **レスポンシブ**: PC・スマートフォン両対応
- **アクセシビリティ**: WCAG 2.1 AA準拠を目指す

---

## 2. 画面一覧

### 2.1 共通画面（非ログイン）

| 画面名 | パス | 説明 |
|--------|------|------|
| ランディングページ | `/` | サービス概要、新規登録・ログインへの誘導（非ログインユーザーのみアクセス可） |

**アクセス制御**:
- **非ログイン状態でアクセス可能**: ランディングページ、新規登録、ログイン
- **ログイン状態でアクセス可能**: 上記以外の全ページ
- **ログイン後の初期画面**: 利用者はダッシュボード、スポンサーはダッシュボード、管理者はダッシュボード

### 2.2 認証関連

| 画面名 | パス | 対象 | 説明 |
|--------|------|------|------|
| 利用者登録 | `/auth/register/client` | 未認証 | 招待コード入力、基本情報登録 |
| スポンサー登録 | `/auth/register/sponsor` | 未認証 | 招待コード入力、事業者情報登録 |
| ログイン | `/auth/login` | 未認証 | メール・パスワード認証 |
| 管理者ログイン | `/admin/login` | 未認証 | 管理者専用ログイン |

### 2.3 利用者向け画面（CLIENT）

| 画面名 | パス | 説明 |
|--------|------|------|
| ダッシュボード | `/client/dashboard` | 申込状況、おすすめサービス |
| サービス一覧 | `/client/services` | カテゴリ別サービス一覧、検索・フィルター |
| サービス検索 | `/client/services/search` | 高度な検索・絞り込み |
| サービス詳細 | `/client/services/:id` | サービス詳細情報、レビュー、申込ボタン |
| スポンサー詳細 | `/client/sponsors/:id` | スポンサープロフィール、提供サービス一覧 |
| メッセージ一覧 | `/client/messages` | 会話リスト |
| メッセージ詳細 | `/client/messages/:conversationId` | チャット画面 |
| 申込フォーム | `/client/bookings/new/:serviceId` | サービス申込、利用者情報入力 |
| 決済画面 | `/client/bookings/:id/payment` | Stripe決済 |
| 申込完了 | `/client/bookings/:id/complete` | 申込完了メッセージ |
| マイ申込一覧 | `/client/bookings` | 申込履歴、ステータス確認 |
| 申込詳細 | `/client/bookings/:id` | 申込詳細、メッセージ、キャンセル |
| レビュー投稿 | `/client/bookings/:id/review` | レビュー・評価投稿 |
| プロフィール | `/client/profile` | プロフィール編集 |
| 設定 | `/client/settings` | 通知設定、パスワード変更 |

**計15画面**

### 2.4 スポンサー向け画面（SPONSOR）

| 画面名 | パス | 説明 |
|--------|------|------|
| ダッシュボード | `/sponsor/dashboard` | 統計、新規申込、売上サマリー |
| マイサービス一覧 | `/sponsor/services` | 提供サービス一覧 |
| サービス登録 | `/sponsor/services/new` | 新規サービス登録 |
| サービス編集 | `/sponsor/services/:id/edit` | サービス情報編集 |
| 申込一覧 | `/sponsor/bookings` | 受信した申込一覧 |
| 申込詳細 | `/sponsor/bookings/:id` | 申込詳細、承認・拒否 |
| メッセージ一覧 | `/sponsor/messages` | 会話リスト |
| メッセージ詳細 | `/sponsor/messages/:conversationId` | チャット画面 |
| 売上確認 | `/sponsor/revenue` | 売上明細、手数料控除後金額 |
| レビュー管理 | `/sponsor/reviews` | 受け取ったレビュー一覧 |
| プロフィール | `/sponsor/profile` | プロフィール編集、事業者情報 |
| 設定 | `/sponsor/settings` | 手数料率設定、通知設定 |

**計12画面**

### 2.5 管理者向け画面（ADMIN）

| 画面名 | パス | 説明 |
|--------|------|------|
| ダッシュボード | `/admin/dashboard` | 全体統計、アクティビティ |
| 招待コード管理 | `/admin/invite-codes` | コード生成・管理 |
| メンバー管理 | `/admin/members` | 登録メンバー一覧、ステータス管理 |
| メンバー詳細 | `/admin/members/:id` | メンバー詳細、アクション |
| サービス管理 | `/admin/services` | 掲載サービス一覧、公開設定 |
| サービス詳細 | `/admin/services/:id` | サービス詳細、承認・非公開化 |
| 申込管理 | `/admin/bookings` | 全申込一覧、ステータス管理 |
| 申込詳細 | `/admin/bookings/:id` | 申込詳細、介入機能 |
| 精算管理 | `/admin/settlements` | 手数料計算、振込額算出、PDF生成 |
| メッセージ監視 | `/admin/messages` | メッセージモニタリング |
| システム設定 | `/admin/settings` | 手数料率、サービスカテゴリ設定 |

**計11画面**

**全画面合計: 38画面**

---

## 3. ユーザーフロー

### 3.1 利用者の基本フロー

#### 新規ユーザー（初回登録）

```
[招待コード入手]
    ↓
[ランディングページ閲覧] → [「新規登録」をクリック]
    ↓
[利用者登録画面]
    ↓
[招待コード入力・検証]
    ↓
[メール・パスワード入力] → [プロフィール設定]
    ↓
[登録完了・自動ログイン] ← ここでセッション開始
    ↓
[ダッシュボードへリダイレクト]
    ↓
[サービス一覧閲覧] → [カテゴリ・検索でフィルター]
    ↓
[サービス詳細確認] → [スポンサー情報・レビュー確認]
    ↓
[メッセージで相談] ← → [スポンサーが返信]
    ↓
[サービス申込] → [利用者情報入力] → [規約同意]
    ↓
[スポンサーが承認]
    ↓
[決済処理] → [Stripe決済]
    ↓
[申込完了]
    ↓
[サービス実施] ← → [メッセージで連絡]
    ↓
[サービス完了]
    ↓
[レビュー・評価投稿]
```

#### 既存ユーザー（再ログイン）

```
[ランディングページ閲覧] → [「ログイン」をクリック]
    ↓
[ログイン画面]
    ↓
[メール・パスワード入力]
    ↓
[認証成功・セッション開始]
    ↓
[ダッシュボードへリダイレクト]
    ↓
[サービス一覧閲覧] 以降は新規ユーザーと同じフロー
```

### 3.2 スポンサーの基本フロー

#### 新規スポンサー（初回登録）

```
[招待コード入手]
    ↓
[ランディングページ閲覧] → [「新規登録」をクリック]
    ↓
[スポンサー登録画面]
    ↓
[招待コード入力・検証]
    ↓
[メール・パスワード入力] → [事業者情報設定]
    ↓
[登録完了・自動ログイン] ← ここでセッション開始
    ↓
[ダッシュボードへリダイレクト]
    ↓
[サービス登録] → [タイトル、説明、カテゴリ、価格、手数料率設定]
    ↓
[サービス公開]
    ↓
[申込受信通知]
    ↓
[申込詳細確認] → [利用者情報確認]
    ↓
[メッセージで相談対応] ← → [利用者とやり取り]
    ↓
[申込承認/拒否]
    ↓
[利用者が決済完了]
    ↓
[サービス提供] ← → [メッセージで連絡]
    ↓
[サービス完了マーク]
    ↓
[レビュー確認] → [売上確認]
```

#### 既存スポンサー（再ログイン）

```
[ランディングページ閲覧] → [「ログイン」をクリック]
    ↓
[ログイン画面]
    ↓
[メール・パスワード入力]
    ↓
[認証成功・セッション開始]
    ↓
[ダッシュボードへリダイレクト]
    ↓
[申込確認・サービス管理] 以降は新規スポンサーと同じフロー
```

### 3.3 管理者の基本フロー

```
[管理者ログイン]
    ↓
[ダッシュボード] → [全体統計確認]
    ↓
[招待コード生成] → [利用者用/スポンサー用コード発行]
    ↓
[メンバー管理] → [新規登録承認、ステータス変更]
    ↓
[サービス管理] → [サービス承認、非公開化]
    ↓
[申込管理] → [トラブル対応、ステータス変更]
    ↓
[メッセージ監視] → [不適切なやり取りチェック]
    ↓
[精算管理] → [手数料計算、振込額確定、PDF生成]
```

---

## 4. デザインシステム

### 4.1 カラーパレット

#### プライマリカラー（ブランドカラー）

```
Primary (Blue)
- 50:  #eff6ff (bg-primary-50)
- 100: #dbeafe (bg-primary-100)
- 200: #bfdbfe
- 300: #93c5fd
- 400: #60a5fa
- 500: #3b82f6 (Primary) - ボタン、リンク
- 600: #2563eb (Primary Dark) - ホバー
- 700: #1d4ed8
- 800: #1e40af
- 900: #1e3a8a
```

#### セカンダリカラー（アクセント）

```
Orange
- 50:  #fff7ed
- 100: #ffedd5
- 200: #fed7aa
- 300: #fdba74
- 400: #fb923c
- 500: #f97316 (Secondary) - アクション、強調
- 600: #ea580c (Secondary Dark)
- 700: #c2410c
- 800: #9a3412
- 900: #7c2d12
```

#### ニュートラルカラー

```
Gray (Slate)
- 50:  #f8fafc (背景)
- 100: #f1f5f9
- 200: #e2e8f0 (ボーダー)
- 300: #cbd5e1
- 400: #94a3b8 (プレースホルダー)
- 500: #64748b (セカンダリテキスト)
- 600: #475569
- 700: #334155 (ボディテキスト)
- 800: #1e293b
- 900: #0f172a (見出し)
```

#### セマンティックカラー

```
Success (Green)
- bg: #dcfce7 (green-100)
- text: #166534 (green-800)
- border: #86efac (green-300)

Warning (Yellow)
- bg: #fef3c7 (yellow-100)
- text: #92400e (yellow-900)
- border: #fde047 (yellow-300)

Error (Red)
- bg: #fee2e2 (red-100)
- text: #991b1b (red-800)
- border: #fca5a5 (red-300)

Info (Blue)
- bg: #dbeafe (blue-100)
- text: #1e40af (blue-800)
- border: #93c5fd (blue-300)
```

### 4.2 タイポグラフィ

#### フォントファミリー

```css
/* 日本語対応 */
font-family: 'Inter', 'Noto Sans JP', -apple-system, BlinkMacSystemFont,
             'Segoe UI', 'Roboto', 'Helvetica', 'Arial', sans-serif;
```

#### フォントサイズスケール（Tailwind CSS）

```
xs:   0.75rem (12px)  - キャプション、ラベル
sm:   0.875rem (14px) - 補助テキスト
base: 1rem (16px)     - ボディテキスト（デフォルト）
lg:   1.125rem (18px) - サブ見出し
xl:   1.25rem (20px)  - 小見出し
2xl:  1.5rem (24px)   - 中見出し
3xl:  1.875rem (30px) - 大見出し
4xl:  2.25rem (36px)  - ページタイトル
5xl:  3rem (48px)     - ヒーロータイトル
```

#### フォントウェイト

```
Light:   300 - 軽い強調
Regular: 400 - ボディテキスト
Medium:  500 - ラベル、ボタン
Semibold: 600 - 小見出し
Bold:    700 - 見出し
Extrabold: 800 - 強調見出し
```

#### 行間（Line Height）

```
tight:   1.25  - 見出し
normal:  1.5   - ボディテキスト
relaxed: 1.75  - 読みやすさ重視
```

### 4.3 スペーシング（Tailwind CSS）

```
0:  0px
1:  0.25rem (4px)
2:  0.5rem (8px)
3:  0.75rem (12px)
4:  1rem (16px)     - 基本単位
5:  1.25rem (20px)
6:  1.5rem (24px)
8:  2rem (32px)     - セクション間
10: 2.5rem (40px)
12: 3rem (48px)
16: 4rem (64px)
20: 5rem (80px)
24: 6rem (96px)
```

### 4.4 ボーダー・角丸

```
Border Width:
- default: 1px
- 2: 2px
- 4: 4px

Border Radius:
- none: 0
- sm:   0.125rem (2px)
- default: 0.25rem (4px)  - ボタン、カード
- md:   0.375rem (6px)
- lg:   0.5rem (8px)      - モーダル
- xl:   0.75rem (12px)
- 2xl:  1rem (16px)
- full: 9999px            - 円形アバター
```

### 4.5 シャドウ

```
sm:   0 1px 2px 0 rgb(0 0 0 / 0.05)          - カード（静止）
default: 0 1px 3px 0 rgb(0 0 0 / 0.1)       - ボタン
md:   0 4px 6px -1px rgb(0 0 0 / 0.1)       - カード（ホバー）
lg:   0 10px 15px -3px rgb(0 0 0 / 0.1)     - ドロップダウン
xl:   0 20px 25px -5px rgb(0 0 0 / 0.1)     - モーダル
2xl:  0 25px 50px -12px rgb(0 0 0 / 0.25)   - 強調モーダル
```

### 4.6 コンポーネント（shadcn/ui）

プロジェクトで使用する主要コンポーネント:

**基本コンポーネント**:
- `Button` - プライマリ、セカンダリ、アウトライン、ゴースト
- `Input` - テキスト入力、メール、パスワード
- `Textarea` - 長文入力
- `Label` - フォームラベル
- `Select` - ドロップダウン選択
- `Checkbox` - チェックボックス
- `Radio Group` - ラジオボタン

**レイアウトコンポーネント**:
- `Card` - コンテンツカード
- `Separator` - セパレーター
- `Tabs` - タブナビゲーション
- `Dialog` - モーダルダイアログ
- `Sheet` - サイドシート（モバイルメニュー）

**データ表示**:
- `Table` - データテーブル
- `Badge` - ステータスバッジ
- `Avatar` - ユーザーアバター
- `Progress` - プログレスバー

**フィードバック**:
- `Alert` - アラート通知
- `Toast` - トースト通知
- `Skeleton` - ローディングスケルトン

**ナビゲーション**:
- `Dropdown Menu` - ドロップダウンメニュー
- `Breadcrumb` - パンくずリスト
- `Pagination` - ページネーション

---

## 5. ワイヤーフレーム

### 5.1 利用者向けトップページ（サービス一覧）

```
┌─────────────────────────────────────────────────────────────┐
│ HATAMO Logo              Search Box               [Profile] │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  ┌───────────────┐   ┌─────────────────────────────────────┐│
│  │ Categories    │   │  サービス一覧                        ││
│  │               │   │                                     ││
│  │ □ IT開発      │   │  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ││
│  │ □ コンサル    │   │  │     │ │     │ │     │ │     │ ││
│  │ □ マーケ      │   │  │[IMG]│ │[IMG]│ │[IMG]│ │[IMG]│ ││
│  │ □ くらし      │   │  │     │ │     │ │     │ │     │ ││
│  │ □ 投資        │   │  ├─────┤ ├─────┤ ├─────┤ ├─────┤ ││
│  │               │   │  │Title│ │Title│ │Title│ │Title│ ││
│  ├───────────────┤   │  │¥XXX │ │¥XXX │ │¥XXX │ │¥XXX │ ││
│  │ Price Range   │   │  │★4.5 │ │★4.8 │ │★4.2 │ │★4.9 │ ││
│  │               │   │  └─────┘ └─────┘ └─────┘ └─────┘ ││
│  │ ¥10,000 - ∞   │   │                                     ││
│  │ [====|====]   │   │  ┌─────┐ ┌─────┐ ┌─────┐ ┌─────┐ ││
│  │               │   │  │     │ │     │ │     │ │     │ ││
│  ├───────────────┤   │  │[IMG]│ │[IMG]│ │[IMG]│ │[IMG]│ ││
│  │ Sort By       │   │  │     │ │     │ │     │ │     │ ││
│  │               │   │  ├─────┤ ├─────┤ ├─────┤ ├─────┤ ││
│  │ [Popular   ▼] │   │  │Title│ │Title│ │Title│ │Title│ ││
│  │               │   │  │¥XXX │ │¥XXX │ │¥XXX │ │¥XXX │ ││
│  │ [Apply Filter]│   │  │★4.6 │ │★4.3 │ │★4.7 │ │★4.1 │ ││
│  └───────────────┘   │  └─────┘ └─────┘ └─────┘ └─────┘ ││
│                       │                                     ││
│                       │  [< Prev] [1] [2] [3] ... [Next >] ││
│                       └─────────────────────────────────────┘│
│                                                               │
├─────────────────────────────────────────────────────────────┤
│ Footer: About | Terms | Privacy | Contact                    │
└─────────────────────────────────────────────────────────────┘
```

**要素説明**:
- ヘッダー: ロゴ、検索バー、プロフィールメニュー
- サイドバー: カテゴリフィルター、価格帯スライダー、並び替え
- メインエリア: サービスカードをグリッド表示（4列）
- サービスカード: 画像、タイトル、価格、評価
- ページネーション

### 5.2 利用者ダッシュボード

```
┌─────────────────────────────────────────────────────────────┐
│ HATAMO Logo              Search Box               [Profile] │
├─────────────────────────────────────────────────────────────┤
│ [ダッシュボード] [サービス] [申込] [メッセージ] [プロフィール]│
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  ダッシュボード                                               │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━      │
│                                                               │
│  ┌───────────┬───────────┬───────────┬───────────┐          │
│  │進行中     │完了       │メッセージ │お気に入り │          │
│  │3件        │12件       │5件未読    │8件        │          │
│  │[詳細]     │[詳細]     │[詳細]     │[詳細]     │          │
│  └───────────┴───────────┴───────────┴───────────┘          │
│                                                               │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ 最近の申込                                 [すべて見る] ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ Service         Sponsor     Status       Date      Action││
│  │─────────────────────────────────────────────────────────││
│  │ Webサイト制作   田中太郎    IN_PROGRESS  2024/10/01 [詳細]││
│  │ SEOコンサル     佐藤花子    PAID         2024/09/28 [詳細]││
│  │ ロゴデザイン     山田一郎    PENDING      2024/09/25 [詳細]││
│  └─────────────────────────────────────────────────────────┘│
│                                                               │
│  ┌────────────────────┬────────────────────────────────────┐│
│  │ おすすめサービス   │  最近見たサービス                  ││
│  ├────────────────────┼────────────────────────────────────┤│
│  │ ┌─────┐ ┌─────┐   │  ┌─────┐ ┌─────┐ ┌─────┐        ││
│  │ │[IMG]│ │[IMG]│   │  │[IMG]│ │[IMG]│ │[IMG]│        ││
│  │ ├─────┤ ├─────┤   │  ├─────┤ ├─────┤ ├─────┤        ││
│  │ │Title│ │Title│   │  │Title│ │Title│ │Title│        ││
│  │ │¥XXX │ │¥XXX │   │  │¥XXX │ │¥XXX │ │¥XXX │        ││
│  │ │★4.5 │ │★4.8 │   │  │★4.2 │ │★4.9 │ │★4.6 │        ││
│  │ └─────┘ └─────┘   │  └─────┘ └─────┘ └─────┘        ││
│  │                    │                                    ││
│  │ [もっと見る]       │  [もっと見る]                      ││
│  └────────────────────┴────────────────────────────────────┘│
│                                                               │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ アクティビティ                                          ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ • 田中太郎さんがメッセージを送信しました 5分前          ││
│  │ • 「Webサイト制作」の申込がスポンサーに承認されました 1時間前││
│  │ • 佐藤花子さんとのチャットが開始されました 2時間前      ││
│  │ • 「SEOコンサル」の決済が完了しました 昨日              ││
│  └─────────────────────────────────────────────────────────┘│
│                                                               │
├─────────────────────────────────────────────────────────────┤
│ Footer: About | Terms | Privacy | Contact                    │
└─────────────────────────────────────────────────────────────┘
```

**要素説明**:
- トップナビゲーション: メニュー（ダッシュボード、サービス、申込、メッセージ、プロフィール）
- サマリーカード: 進行中の申込、完了した申込、メッセージ未読、お気に入り
- 最近の申込テーブル: サービス名、スポンサー、ステータス、日付、アクション
- おすすめサービス: AIまたはルールベースでの推薦
- 最近見たサービス: 閲覧履歴
- アクティビティフィード: 最新のイベント・通知

### 5.3 サービス詳細ページ

```
┌─────────────────────────────────────────────────────────────┐
│ HATAMO Logo              Search Box               [Profile] │
├─────────────────────────────────────────────────────────────┤
│ Home > IT開発 > Webサイト制作                                │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  ┌────────────────────────┬────────────────────────────────┐│
│  │                        │                                ││
│  │  ┌──────────────────┐  │  サービスタイトル              ││
│  │  │                  │  │  ━━━━━━━━━━━━━━━━━━━━━━━━    ││
│  │  │  Hero Image      │  │  ★★★★★ 4.8 (24件のレビュー)  ││
│  │  │                  │  │                                ││
│  │  │   [Service IMG]  │  │  ¥50,000〜                     ││
│  │  │                  │  │                                ││
│  │  └──────────────────┘  │  カテゴリ: IT開発              ││
│  │                        │  手数料率: 30% (+運営5%)       ││
│  │  [IMG] [IMG] [IMG]     │                                ││
│  │                        │  ┌──────────────────────────┐  ││
│  │                        │  │ スポンサー情報            │  ││
│  │                        │  │ [Avatar] 田中太郎         │  ││
│  │                        │  │ ★★★★☆ 4.5              │  ││
│  │                        │  │ 実績: 50件                │  ││
│  │                        │  │ [プロフィールを見る]      │  ││
│  │                        │  └──────────────────────────┘  ││
│  │                        │                                ││
│  │                        │  [メッセージを送る] [申し込む] ││
│  └────────────────────────┴────────────────────────────────┘│
│                                                               │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ [説明] [料金] [よくある質問] [レビュー(24)]            ││
│  ├─────────────────────────────────────────────────────────┤│
│  │                                                         ││
│  │  サービス詳細説明                                       ││
│  │  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━      ││
│  │                                                         ││
│  │  このサービスでは...（詳細な説明文）                    ││
│  │                                                         ││
│  │  ■ サービス内容                                        ││
│  │  ・項目1                                                ││
│  │  ・項目2                                                ││
│  │  ・項目3                                                ││
│  │                                                         ││
│  │  ■ 納期                                                ││
│  │  2週間〜1ヶ月                                           ││
│  │                                                         ││
│  │  ■ 提供方法                                            ││
│  │  オンラインミーティング + チャット                      ││
│  │                                                         ││
│  └─────────────────────────────────────────────────────────┘│
│                                                               │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ レビュー・評価                                          ││
│  ├─────────────────────────────────────────────────────────┤│
│  │                                                         ││
│  │  ★★★★★ 5.0  [Avatar] 佐藤花子                        ││
│  │  とても丁寧な対応で、期待以上の成果物でした...          ││
│  │  2024/09/15                                             ││
│  │  ─────────────────────────────────────────────────────  ││
│  │  ★★★★☆ 4.0  [Avatar] 山田一郎                        ││
│  │  納期通りに納品していただき、満足しています...          ││
│  │  2024/09/10                                             ││
│  │  ─────────────────────────────────────────────────────  ││
│  │  [もっと見る]                                           ││
│  └─────────────────────────────────────────────────────────┘│
│                                                               │
├─────────────────────────────────────────────────────────────┤
│ Footer: About | Terms | Privacy | Contact                    │
└─────────────────────────────────────────────────────────────┘
```

**要素説明**:
- パンくずリスト
- ヒーロー画像エリア（サムネイル付き）
- サービス情報カード（タイトル、評価、価格、カテゴリ、手数料）
- スポンサー情報カード
- CTA（メッセージ、申込ボタン）
- タブ切り替え（説明、料金、FAQ、レビュー）
- レビュー一覧

### 5.4 メッセージ画面（2ペインレイアウト）

```
┌─────────────────────────────────────────────────────────────┐
│ HATAMO Logo              Search Box               [Profile] │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  ┌─────────────────────┬─────────────────────────────────┐  │
│  │ Messages            │ 田中太郎とのチャット             │  │
│  ├─────────────────────┼─────────────────────────────────┤  │
│  │                     │                                 │  │
│  │ ┌─────────────────┐ │  ┌─────────────────────────┐   │  │
│  │ │[Avatar] 田中太郎 │ │  │田中太郎:                │   │  │
│  │ │Webサイト制作に...│ │  │こんにちは！...          │   │  │
│  │ │5分前          [1]│ │  │                    14:30│   │  │
│  │ └─────────────────┘ │  └─────────────────────────┘   │  │
│  │                     │                                 │  │
│  │ ┌─────────────────┐ │       ┌─────────────────────┐  │  │
│  │ │[Avatar] 佐藤花子 │ │       │あなた:              │  │  │
│  │ │ありがとうござい...│ │       │ご連絡ありがとう...  │  │  │
│  │ │1時間前            │ │       │               14:35│  │  │
│  │ └─────────────────┘ │       └─────────────────────┘  │  │
│  │                     │                                 │  │
│  │ ┌─────────────────┐ │  ┌─────────────────────────┐   │  │
│  │ │[Avatar] 山田一郎 │ │  │田中太郎:                │   │  │
│  │ │了解しました。...  │ │  │はい、可能です...        │   │  │
│  │ │昨日               │ │  │                    14:40│   │  │
│  │ └─────────────────┘ │  └─────────────────────────┘   │  │
│  │                     │                                 │  │
│  │ ┌─────────────────┐ │       ┌─────────────────────┐  │  │
│  │ │[Avatar] 鈴木次郎 │ │       │あなた:              │  │  │
│  │ │見積もりについて...│ │       │わかりました...      │  │  │
│  │ │2日前              │ │       │               14:45│  │  │
│  │ └─────────────────┘ │       └─────────────────────┘  │  │
│  │                     │                                 │  │
│  │                     │  ┌─────────────────────────┐   │  │
│  │                     │  │田中太郎:                │   │  │
│  │                     │  │それでは進めましょう...  │   │  │
│  │                     │  │                    14:50│   │  │
│  │                     │  └─────────────────────────┘   │  │
│  │                     │                                 │  │
│  │                     │                                 │  │
│  │                     │ ┌───────────────────────────┐ │  │
│  │                     │ │[Type your message...      │ │  │
│  │                     │ │                    [Send] │ │  │
│  │                     │ └───────────────────────────┘ │  │
│  └─────────────────────┴─────────────────────────────────┘  │
│                                                               │
├─────────────────────────────────────────────────────────────┤
│ Footer: About | Terms | Privacy | Contact                    │
└─────────────────────────────────────────────────────────────┘
```

**要素説明**:
- 左ペイン: 会話リスト（アバター、名前、最新メッセージ、未読バッジ）
- 右ペイン: チャットエリア（吹き出し形式、タイムスタンプ）
- 入力エリア: テキストボックス、送信ボタン

### 5.5 スポンサーダッシュボード

```
┌─────────────────────────────────────────────────────────────┐
│ HATAMO Logo              [Messages] [Notifications] [田中]  │
├─────────────────────────────────────────────────────────────┤
│ [Dashboard] [Services] [Bookings] [Messages] [Revenue]       │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  ダッシュボード                                               │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━      │
│                                                               │
│  ┌───────────┬───────────┬───────────┬───────────┐          │
│  │今月の売上  │新規申込   │進行中     │完了       │          │
│  │¥350,000   │5件        │3件        │12件       │          │
│  │+12%↑      │+2件       │          │          │          │
│  └───────────┴───────────┴───────────┴───────────┘          │
│                                                               │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ 新規申込（要対応）                         [すべて見る] ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ Service         Client      Status       Amount   Action││
│  │─────────────────────────────────────────────────────────││
│  │ Webサイト制作   佐藤花子    PENDING      ¥50,000  [確認]││
│  │ SEOコンサル     山田一郎    PENDING      ¥30,000  [確認]││
│  │ ロゴデザイン     鈴木次郎    PENDING      ¥20,000  [確認]││
│  └─────────────────────────────────────────────────────────┘│
│                                                               │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ 進行中のサービス                           [すべて見る] ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ Service         Client      Status       Progress  Action││
│  │─────────────────────────────────────────────────────────││
│  │ LP制作          田中太郎    IN_PROGRESS  [====  ] [詳細]││
│  │ 広告運用        伊藤美咲    IN_PROGRESS  [======] [詳細]││
│  │ 動画編集        高橋健一    IN_PROGRESS  [==    ] [詳細]││
│  └─────────────────────────────────────────────────────────┘│
│                                                               │
│  ┌────────────────────┬────────────────────────────────────┐│
│  │ 売上推移           │  サービス別売上                    ││
│  │ [グラフ]           │  ┌──────────────────────────────┐ ││
│  │                    │  │ Webサイト制作: ¥200,000 (57%) │ ││
│  │                    │  │ SEOコンサル:    ¥100,000 (29%) │ ││
│  │                    │  │ ロゴデザイン:    ¥50,000 (14%) │ ││
│  │                    │  └──────────────────────────────┘ ││
│  └────────────────────┴────────────────────────────────────┘│
│                                                               │
├─────────────────────────────────────────────────────────────┤
│ Footer: About | Terms | Privacy | Contact                    │
└─────────────────────────────────────────────────────────────┘
```

**要素説明**:
- トップナビゲーション: メニュー（ダッシュボード、サービス、申込、メッセージ、売上）
- 統計カード: 今月の売上、新規申込、進行中、完了（前月比表示）
- 新規申込テーブル: サービス名、クライアント、ステータス、金額、アクション
- 進行中のサービステーブル: プログレスバー表示
- グラフエリア: 売上推移グラフ、サービス別売上円グラフ

### 5.6 管理者ダッシュボード

```
┌─────────────────────────────────────────────────────────────┐
│ HATAMO Admin                                    [管理者名]   │
├─────────────────────────────────────────────────────────────┤
│ [Dashboard] [Codes] [Members] [Services] [Bookings] [...]    │
├─────────────────────────────────────────────────────────────┤
│                                                               │
│  管理者ダッシュボード                                         │
│  ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━      │
│                                                               │
│  ┌─────────┬─────────┬─────────┬─────────┬─────────┐        │
│  │総会員数  │利用者   │スポンサー│総申込   │総売上   │        │
│  │48名      │32名     │16名      │156件    │¥5.2M    │        │
│  │+3↑       │+2↑      │+1↑       │+12↑     │+8%↑     │        │
│  └─────────┴─────────┴─────────┴─────────┴─────────┘        │
│                                                               │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ 最近のアクティビティ                       [すべて見る] ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ • 佐藤花子さんが新規登録しました（利用者） 5分前        ││
│  │ • 田中太郎さんが「Webサイト制作」を登録 15分前          ││
│  │ • 新規申込: 山田一郎 → 鈴木次郎（SEOコンサル） 1時間前 ││
│  │ • 伊藤美咲さんが招待コードを使用 2時間前               ││
│  │ • 高橋健一さんが売上¥50,000を確定 3時間前              ││
│  └─────────────────────────────────────────────────────────┘│
│                                                               │
│  ┌────────────────────┬────────────────────────────────────┐│
│  │ 要対応事項         │  システムアラート                  ││
│  ├────────────────────┼────────────────────────────────────┤│
│  │ ⚠ 未承認サービス   │  ⚠ 不適切メッセージ検出: 1件       ││
│  │   3件              │  ⚠ 返金リクエスト: 1件             ││
│  │                    │  ✓ システム正常稼働                ││
│  │ ⚠ 問題報告         │  ✓ DB接続正常                      ││
│  │   1件              │  ✓ 決済API正常                     ││
│  │                    │                                    ││
│  │ ⚠ 精算待ち         │                                    ││
│  │   5件              │                                    ││
│  └────────────────────┴────────────────────────────────────┘│
│                                                               │
│  ┌─────────────────────────────────────────────────────────┐│
│  │ クイックアクション                                      ││
│  ├─────────────────────────────────────────────────────────┤│
│  │ [招待コード生成] [メンバー管理] [サービス承認]          ││
│  │ [申込管理] [精算処理] [レポート生成]                    ││
│  └─────────────────────────────────────────────────────────┘│
│                                                               │
├─────────────────────────────────────────────────────────────┤
│ Footer: System Info | Version 1.0 | © 2025 HATAMO            │
└─────────────────────────────────────────────────────────────┘
```

**要素説明**:
- 統計カード: 総会員数、利用者、スポンサー、総申込、総売上（増減表示）
- アクティビティフィード: 最近のシステムイベント
- 要対応事項: 未承認サービス、問題報告、精算待ち（件数バッジ）
- システムアラート: 異常検出、ステータス表示
- クイックアクション: 主要機能への即時アクセス

---

## 6. レスポンシブ設計

### 6.1 ブレークポイント

```
sm:  640px  (スマートフォン横向き)
md:  768px  (タブレット縦向き)
lg:  1024px (タブレット横向き、小型ラップトップ)
xl:  1280px (デスクトップ)
2xl: 1536px (大型デスクトップ)
```

### 6.2 デバイス別レイアウト戦略

#### モバイル（〜639px）

- **ナビゲーション**: ハンバーガーメニュー（Sheet）
- **グリッド**: 1列表示
- **フォント**: base（16px）
- **スペーシング**: 小さめ（p-4）
- **カード**: フル幅
- **テーブル**: カード形式に変換
- **サイドバー**: 非表示（Sheet で開閉）

#### タブレット（640px〜1023px）

- **ナビゲーション**: タブナビゲーション
- **グリッド**: 2列表示
- **フォント**: base〜lg
- **スペーシング**: 中程度（p-6）
- **カード**: 2列グリッド
- **サイドバー**: 折りたたみ可能

#### デスクトップ（1024px〜）

- **ナビゲーション**: 横並びナビゲーション
- **グリッド**: 3〜4列表示
- **フォント**: base〜xl
- **スペーシング**: 大きめ（p-8）
- **カード**: 3〜4列グリッド
- **サイドバー**: 常時表示

### 6.3 コンテナ幅

```
Max Width (max-w-*)
- sm:   640px  (狭いコンテンツ)
- md:   768px  (フォーム)
- lg:   1024px (記事)
- xl:   1280px (一般コンテンツ)
- 2xl:  1536px (ダッシュボード)
- 7xl:  80rem (1280px) - メインコンテナ
- full: 100%   (フル幅)
```

---

## 7. 実装ガイドライン

### 7.1 技術スタック

- **Framework**: Next.js 15 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS v4
- **UI Components**: shadcn/ui
- **State Management**: Zustand
- **Form**: React Hook Form + Zod
- **API Communication**: Fetch API / Axios
- **Real-time**: Socket.io Client

### 7.2 ディレクトリ構造（推奨）

```
frontend/
├── src/
│   ├── app/                    # Next.js App Router
│   │   ├── (auth)/             # 認証グループ
│   │   │   ├── login/
│   │   │   └── register/
│   │   ├── (client)/           # 利用者グループ
│   │   │   ├── dashboard/
│   │   │   ├── services/
│   │   │   ├── messages/
│   │   │   └── bookings/
│   │   ├── (sponsor)/          # スポンサーグループ
│   │   │   ├── dashboard/
│   │   │   ├── services/
│   │   │   └── bookings/
│   │   ├── layout.tsx          # ルートレイアウト
│   │   └── page.tsx            # トップページ
│   ├── components/             # 共通コンポーネント
│   │   ├── ui/                 # shadcn/ui コンポーネント
│   │   ├── layout/             # レイアウトコンポーネント
│   │   │   ├── Header.tsx
│   │   │   ├── Footer.tsx
│   │   │   ├── Sidebar.tsx
│   │   │   └── Navigation.tsx
│   │   ├── service/            # サービス関連
│   │   │   ├── ServiceCard.tsx
│   │   │   ├── ServiceList.tsx
│   │   │   └── ServiceFilter.tsx
│   │   ├── message/            # メッセージ関連
│   │   │   ├── MessageList.tsx
│   │   │   ├── ChatWindow.tsx
│   │   │   └── MessageInput.tsx
│   │   └── common/             # 汎用コンポーネント
│   │       ├── Avatar.tsx
│   │       ├── Badge.tsx
│   │       └── EmptyState.tsx
│   ├── lib/                    # ユーティリティ
│   │   ├── api.ts              # APIクライアント
│   │   ├── utils.ts            # 汎用関数
│   │   └── validations.ts      # Zodスキーマ
│   ├── hooks/                  # カスタムフック
│   │   ├── useAuth.ts
│   │   ├── useSocket.ts
│   │   └── useServices.ts
│   ├── stores/                 # Zustand ストア
│   │   ├── authStore.ts
│   │   ├── messageStore.ts
│   │   └── bookingStore.ts
│   ├── types/                  # TypeScript型定義
│   │   ├── user.ts
│   │   ├── service.ts
│   │   ├── booking.ts
│   │   └── message.ts
│   └── styles/                 # グローバルスタイル
│       └── globals.css
├── public/                     # 静的ファイル
│   ├── images/
│   └── icons/
└── package.json
```

### 7.3 コーディング規約

#### コンポーネント命名

```tsx
// ファイル名: PascalCase
// ServiceCard.tsx

// コンポーネント名: PascalCase
export const ServiceCard: React.FC<ServiceCardProps> = ({ service }) => {
  // ...
}
```

#### Props定義

```tsx
// インターフェース定義
interface ServiceCardProps {
  service: Service;
  onClick?: (id: string) => void;
  className?: string;
}

// デフォルトProps
const ServiceCard: React.FC<ServiceCardProps> = ({
  service,
  onClick,
  className = ""
}) => {
  // ...
}
```

#### Tailwind CSS クラス整理

```tsx
// cn() ユーティリティを使用
import { cn } from "@/lib/utils";

<div className={cn(
  "rounded-lg border bg-card p-6 shadow-sm",
  "hover:shadow-md transition-shadow",
  className
)}>
  {/* ... */}
</div>
```

#### ステート管理（Zustand）

```tsx
// stores/authStore.ts
import { create } from 'zustand';

interface AuthState {
  user: User | null;
  isAuthenticated: boolean;
  login: (user: User) => void;
  logout: () => void;
}

export const useAuthStore = create<AuthState>((set) => ({
  user: null,
  isAuthenticated: false,
  login: (user) => set({ user, isAuthenticated: true }),
  logout: () => set({ user: null, isAuthenticated: false }),
}));
```

#### フォームバリデーション（Zod）

```tsx
import { z } from "zod";
import { useForm } from "react-hook-form";
import { zodResolver } from "@hookform/resolvers/zod";

const loginSchema = z.object({
  email: z.string().email("有効なメールアドレスを入力してください"),
  password: z.string().min(8, "パスワードは8文字以上である必要があります"),
});

type LoginFormData = z.infer<typeof loginSchema>;

const LoginForm = () => {
  const form = useForm<LoginFormData>({
    resolver: zodResolver(loginSchema),
  });

  // ...
}
```

### 7.4 アクセシビリティ

#### キーボード操作

- Tab: フォーカス移動
- Enter/Space: ボタン・リンク実行
- Esc: モーダル・ドロップダウン閉じる
- Arrow keys: リスト・メニュー内移動

#### セマンティックHTML

```tsx
// Good
<button onClick={handleClick}>送信</button>
<nav>...</nav>
<main>...</main>

// Bad
<div onClick={handleClick}>送信</div>
```

#### ARIAラベル

```tsx
<button aria-label="メニューを開く">
  <MenuIcon />
</button>

<input
  type="search"
  aria-label="サービスを検索"
  placeholder="キーワード..."
/>
```

### 7.5 パフォーマンス最適化

#### 画像最適化

```tsx
import Image from 'next/image';

<Image
  src="/images/service.jpg"
  alt="サービス画像"
  width={400}
  height={300}
  loading="lazy"
  placeholder="blur"
/>
```

#### 動的インポート

```tsx
import dynamic from 'next/dynamic';

const ChatWindow = dynamic(() => import('@/components/message/ChatWindow'), {
  loading: () => <Skeleton />,
  ssr: false,
});
```

#### メモ化

```tsx
import { useMemo, useCallback } from 'react';

const ServiceList = ({ services }) => {
  const filteredServices = useMemo(() => {
    return services.filter(/* ... */);
  }, [services]);

  const handleClick = useCallback((id: string) => {
    // ...
  }, []);

  return <div>{/* ... */}</div>;
}
```

---

## 付録

### A. カラーコード一覧（Tailwind CSS変数）

```css
/* globals.css */
@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%; /* Blue-600 */
    --primary-foreground: 210 40% 98%;
    --secondary: 24.6 95% 53.1%; /* Orange-500 */
    --secondary-foreground: 0 0% 98%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    /* ... */
  }
}
```

### B. アニメーション定義

```css
/* globals.css */
@layer utilities {
  @keyframes slide-in-right {
    from {
      transform: translateX(100%);
    }
    to {
      transform: translateX(0);
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  .animate-slide-in-right {
    animation: slide-in-right 0.3s ease-out;
  }

  .animate-fade-in {
    animation: fade-in 0.2s ease-in;
  }
}
```

### C. 主要コンポーネント使用例

#### Button

```tsx
import { Button } from "@/components/ui/button";

<Button variant="default">送信</Button>
<Button variant="secondary">キャンセル</Button>
<Button variant="outline">詳細</Button>
<Button variant="ghost">閉じる</Button>
<Button variant="destructive">削除</Button>
```

#### Card

```tsx
import { Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter } from "@/components/ui/card";

<Card>
  <CardHeader>
    <CardTitle>カードタイトル</CardTitle>
    <CardDescription>説明文</CardDescription>
  </CardHeader>
  <CardContent>
    <p>コンテンツ</p>
  </CardContent>
  <CardFooter>
    <Button>アクション</Button>
  </CardFooter>
</Card>
```

#### Dialog

```tsx
import { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from "@/components/ui/dialog";

<Dialog open={isOpen} onOpenChange={setIsOpen}>
  <DialogContent>
    <DialogHeader>
      <DialogTitle>ダイアログタイトル</DialogTitle>
      <DialogDescription>説明文</DialogDescription>
    </DialogHeader>
    <div>コンテンツ</div>
    <DialogFooter>
      <Button onClick={() => setIsOpen(false)}>キャンセル</Button>
      <Button onClick={handleConfirm}>確定</Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

---

## 変更履歴

| バージョン | 日付 | 変更内容 | 担当者 |
|-----------|------|---------|--------|
| v1.0 | 2025/10/02 | 初版作成 | 設計チーム |
| v1.1 | 2025/10/02 | ユーザーフロー修正: 新規ユーザーと既存ユーザーのフロー分離、アクセス制御の明確化 | 設計チーム |
| v1.2 | 2025/10/02 | ワイヤーフレーム追加: 利用者ダッシュボード（5.2）を追加 | 設計チーム |

---

**作成者**: HATAMOデザインチーム
**承認者**: プロジェクトマネージャー
**最終更新**: 2025年10月2日（v1.2）
